if(void 0===__webpack_require__)var __webpack_require__={};(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[869],{5680:(e,t,r)=>{r.d(t,{xA:()=>l,yg:()=>g});var n=r(6540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=n.createContext({}),c=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef(function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=c(r),y=o,g=p["".concat(u,".").concat(y)]||p[y]||d[y]||i;return r?n.createElement(g,a(a({ref:t},l),{},{components:r})):n.createElement(g,a({ref:t},l))});function g(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=y;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=r[c];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}y.displayName="MDXCreateElement"},9389:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=r(8168),o=(r(6540),r(5680));const i={sidebar_position:7},a="Troubleshooting",s={unversionedId:"introduction/troubleshooting",id:"introduction/troubleshooting",title:"Troubleshooting",description:"usePythonConsole messages out of order",source:"@site/docs/introduction/troubleshooting.md",sourceDirName:"introduction",slug:"/introduction/troubleshooting",permalink:"/react-py/docs/introduction/troubleshooting",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"API Reference",permalink:"/react-py/docs/introduction/api-reference"},next:{title:"Basic Example",permalink:"/react-py/docs/examples/basic-example"}},u={},c=[{value:"<code>usePythonConsole</code> messages out of order",id:"usepythonconsole-messages-out-of-order",level:2},{value:"Calling <code>input()</code> returns HTML",id:"calling-input-returns-html",level:2}],l={toc:c},p="wrapper";function d({components:e,...t}){return(0,o.yg)(p,(0,n.A)({},l,t,{components:e,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"troubleshooting"},"Troubleshooting"),(0,o.yg)("h2",{id:"usepythonconsole-messages-out-of-order"},(0,o.yg)("inlineCode",{parentName:"h2"},"usePythonConsole")," messages out of order"),(0,o.yg)("p",null,"If you are using the ",(0,o.yg)("inlineCode",{parentName:"p"},"usePythonConsole")," hook and the messages are out of order, this may be due to your ",(0,o.yg)("inlineCode",{parentName:"p"},"useEffect")," hook watching ",(0,o.yg)("inlineCode",{parentName:"p"},"stdout")," ",(0,o.yg)("a",{parentName:"p",href:"https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching"},"automatically batching updates in React 18"),". A workaround is to run your app in React 17 mode using ",(0,o.yg)("a",{parentName:"p",href:"https://react.dev/reference/react-dom/render"},(0,o.yg)("inlineCode",{parentName:"a"},"ReactDOM.render")),"."),(0,o.yg)("h2",{id:"calling-input-returns-html"},"Calling ",(0,o.yg)("inlineCode",{parentName:"h2"},"input()")," returns HTML"),(0,o.yg)("p",null,"If you are using the ",(0,o.yg)("inlineCode",{parentName:"p"},"input()")," function in Python, you may encounter the following error:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"ValueError: <!DOCTYPE html>...\n")),(0,o.yg)("p",null,"This is due to no service worker being registered, so the HTML of the page is returned instead of being intercepted by the service worker. Ensure that you've followed the ",(0,o.yg)("a",{parentName:"p",href:"/react-py/docs/introduction/usage"},"usage instructions")," and have registered the service worker. For framework specific guides, see the sidebar."))}d.isMDXComponent=!0}}]);