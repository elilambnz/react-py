"use strict";(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[399],{2322:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var d=i(4848),s=i(8453);const r={sidebar_position:6},o="API Reference",t={id:"introduction/api-reference",title:"API Reference",description:"``",source:"@site/docs/introduction/api-reference.md",sourceDirName:"introduction",slug:"/introduction/api-reference",permalink:"/react-py/docs/introduction/api-reference",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Usage with Docusaurus",permalink:"/react-py/docs/introduction/docusaurus-usage"},next:{title:"Troubleshooting",permalink:"/react-py/docs/introduction/troubleshooting"}},l={},c=[{value:"<code>&lt;PythonProvider&gt;</code>",id:"pythonprovider",level:2},{value:"<code>usePython</code> and <code>usePythonConsole</code> hooks",id:"usepython-and-usepythonconsole-hooks",level:2},{value:"runPython",id:"runpython",level:3},{value:"stdout",id:"stdout",level:3},{value:"stderr",id:"stderr",level:3},{value:"isLoading",id:"isloading",level:3},{value:"isReady",id:"isready",level:3},{value:"isRunning",id:"isrunning",level:3},{value:"interruptExecution",id:"interruptexecution",level:3},{value:"readFile",id:"readfile",level:3},{value:"writeFile",id:"writefile",level:3},{value:"mkdir",id:"mkdir",level:3},{value:"rmdir",id:"rmdir",level:3},{value:"watchModules",id:"watchmodules",level:3},{value:"unwatchModules",id:"unwatchmodules",level:3},{value:"isAwaitingInput",id:"isawaitinginput",level:3},{value:"sendInput",id:"sendinput",level:3},{value:"prompt",id:"prompt",level:3},{value:"<code>usePythonConsole</code> hook",id:"usepythonconsole-hook",level:2},{value:"banner",id:"banner",level:3},{value:"consoleState",id:"consolestate",level:3},{value:"Types",id:"types",level:2},{value:"Packages",id:"packages",level:3},{value:"official",id:"official",level:4},{value:"micropip",id:"micropip",level:4},{value:"ConsoleState",id:"consolestate-1",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.useMDXComponents)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"api-reference",children:"API Reference"}),"\n",(0,d.jsx)(n.h2,{id:"pythonprovider",children:(0,d.jsx)(n.code,{children:"<PythonProvider>"})}),"\n",(0,d.jsxs)(n.p,{children:["Props which can be provided to the ",(0,d.jsx)(n.code,{children:"PythonProvider"})," component."]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Prop"}),(0,d.jsx)(n.th,{children:"Required"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"packages"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.a,{href:"#packages",children:(0,d.jsx)(n.code,{children:"Packages"})})}),(0,d.jsx)(n.td,{children:"undefined"}),(0,d.jsx)(n.td,{children:"Packages to be loaded globally for usage by all instances."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"timeout"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"number"})}),(0,d.jsx)(n.td,{children:"0"}),(0,d.jsx)(n.td,{children:"Time in ms until a running instance is terminated, 0 means there is no time limit."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"lazy"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"boolean"})}),(0,d.jsx)(n.td,{children:"false"}),(0,d.jsxs)(n.td,{children:["If true, prevents the web worker from spawning until ",(0,d.jsx)(n.code,{children:"runPython"})," is called for the first time."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"terminateOnCompletion"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"boolean"})}),(0,d.jsx)(n.td,{children:"false"}),(0,d.jsxs)(n.td,{children:["If true, the web worker will terminate on completion. Does not apply to the ",(0,d.jsx)(n.code,{children:"usePythonConsole"})," hook."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"autoImportPackages"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"boolean"})}),(0,d.jsx)(n.td,{children:"true"}),(0,d.jsxs)(n.td,{children:["If true, automatically imports packages in a code chunk. Uses Pyodide ",(0,d.jsx)(n.code,{children:"loadPackagesFromImports"}),"."]})]})]})]}),"\n",(0,d.jsxs)(n.h2,{id:"usepython-and-usepythonconsole-hooks",children:[(0,d.jsx)(n.code,{children:"usePython"})," and ",(0,d.jsx)(n.code,{children:"usePythonConsole"})," hooks"]}),"\n",(0,d.jsxs)(n.p,{children:["Props which can be provided to the ",(0,d.jsx)(n.code,{children:"usePython"})," and ",(0,d.jsx)(n.code,{children:"usePythonConsole"})," hooks."]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Prop"}),(0,d.jsx)(n.th,{children:"Required"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"packages"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.a,{href:"#packages",children:(0,d.jsx)(n.code,{children:"Packages"})})}),(0,d.jsx)(n.td,{children:"undefined"}),(0,d.jsx)(n.td,{children:"Packages to be loaded for usage by this instance."})]})})]}),"\n",(0,d.jsx)(n.h3,{id:"runpython",children:"runPython"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"async (code: string) => void"})}),"\n",(0,d.jsx)(n.p,{children:"Takes a string of Python code. Example:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:'runPython(`pi = 3.141\nprint(f"Pi to two decimal places is: {pi:.2f}")`)\n// expected output: "Pi to two decimal places is: 3.14"\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note:"})," calls to ",(0,d.jsx)(n.code,{children:"runPython"})," when using the ",(0,d.jsx)(n.code,{children:"usePythonConsole"})," hook can be incomplete."]}),"\n",(0,d.jsx)(n.h3,{id:"stdout",children:"stdout"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})}),"\n",(0,d.jsxs)(n.p,{children:["Python stdout. When using the ",(0,d.jsx)(n.code,{children:"usePythonConsole"})," hook, you will need to keep track of the history of stdout yourself."]}),"\n",(0,d.jsx)(n.h3,{id:"stderr",children:"stderr"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})}),"\n",(0,d.jsx)(n.p,{children:"Python stderr."}),"\n",(0,d.jsx)(n.h3,{id:"isloading",children:"isLoading"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})}),"\n",(0,d.jsx)(n.p,{children:"True if the worker is still being initialised. False if loaded."}),"\n",(0,d.jsx)(n.h3,{id:"isready",children:"isReady"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})}),"\n",(0,d.jsxs)(n.p,{children:["True if instance is ready to run Python code. False otherwise. When using ",(0,d.jsx)(n.code,{children:"lazy"})," prop, this will be false until ",(0,d.jsx)(n.code,{children:"runPython"})," is called for the first time."]}),"\n",(0,d.jsx)(n.h3,{id:"isrunning",children:"isRunning"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})}),"\n",(0,d.jsx)(n.p,{children:"True if code is being executed. False if idle."}),"\n",(0,d.jsx)(n.h3,{id:"interruptexecution",children:"interruptExecution"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"() => void"})}),"\n",(0,d.jsx)(n.p,{children:"Can be called to immediately interrupt ongoing execution. Will terminate the running worker and spawn a new one."}),"\n",(0,d.jsx)(n.h3,{id:"readfile",children:"readFile"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(name: string) => void"})}),"\n",(0,d.jsxs)(n.p,{children:["Exposes ",(0,d.jsx)(n.code,{children:"pyodide.FS.readFile"}),", encoding is ",(0,d.jsx)(n.code,{children:"utf8"}),". ",(0,d.jsx)(n.a,{href:"https://emscripten.org/docs/api_reference/Filesystem-API.html#FS.readFile",children:"Read more here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"writefile",children:"writeFile"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(name: string, data: string | ArrayBufferView) => void"})}),"\n",(0,d.jsxs)(n.p,{children:["Exposes ",(0,d.jsx)(n.code,{children:"pyodide.FS.writeFile"}),", encoding is ",(0,d.jsx)(n.code,{children:"utf8"}),". ",(0,d.jsx)(n.a,{href:"https://emscripten.org/docs/api_reference/Filesystem-API.html#FS.writeFile",children:"Read more here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"mkdir",children:"mkdir"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(name: string) => void"})}),"\n",(0,d.jsxs)(n.p,{children:["Exposes ",(0,d.jsx)(n.code,{children:"pyodide.FS.mkdir"}),". ",(0,d.jsx)(n.a,{href:"https://emscripten.org/docs/api_reference/Filesystem-API.html#FS.mkdir",children:"Read more here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"rmdir",children:"rmdir"}),"\n",(0,d.jsxs)(n.p,{children:["Exposes ",(0,d.jsx)(n.code,{children:"pyodide.FS.rmdir"}),". ",(0,d.jsx)(n.a,{href:"https://emscripten.org/docs/api_reference/Filesystem-API.html#FS.rmdir",children:"Read more here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"watchmodules",children:"watchModules"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(moduleNames: string[]) => void"})}),"\n",(0,d.jsx)(n.p,{children:"Adds modules to be reloaded before code is run."}),"\n",(0,d.jsx)(n.h3,{id:"unwatchmodules",children:"unwatchModules"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(moduleNames: string[]) => void"})}),"\n",(0,d.jsx)(n.p,{children:"Removes modules to be reloaded before code is run."}),"\n",(0,d.jsx)(n.h3,{id:"isawaitinginput",children:"isAwaitingInput"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})}),"\n",(0,d.jsxs)(n.p,{children:["True if Python is awaiting input from ",(0,d.jsx)(n.code,{children:"stdin"}),". False otherwise."]}),"\n",(0,d.jsx)(n.h3,{id:"sendinput",children:"sendInput"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"(value: string) => void"})}),"\n",(0,d.jsxs)(n.p,{children:["Sends input to Python ",(0,d.jsx)(n.code,{children:"stdin"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"prompt",children:"prompt"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})}),"\n",(0,d.jsxs)(n.p,{children:["Provides the current ",(0,d.jsx)(n.code,{children:"stdin"})," prompt string."]}),"\n",(0,d.jsxs)(n.h2,{id:"usepythonconsole-hook",children:[(0,d.jsx)(n.code,{children:"usePythonConsole"})," hook"]}),"\n",(0,d.jsx)(n.h3,{id:"banner",children:"banner"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})}),"\n",(0,d.jsx)(n.p,{children:"Python banner."}),"\n",(0,d.jsx)(n.h3,{id:"consolestate",children:"consoleState"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"ConsoleState | undefined"})}),"\n",(0,d.jsx)(n.p,{children:"Current state of console."}),"\n",(0,d.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,d.jsx)(n.h3,{id:"packages",children:"Packages"}),"\n",(0,d.jsx)(n.p,{children:"Example:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"{\n  official: ['asciitree'],\n  micropip: ['python-cowsay'],\n}\n"})}),"\n",(0,d.jsx)(n.h4,{id:"official",children:"official"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"string[]"})," (optional) - Pyodide official packages"]}),"\n",(0,d.jsx)(n.h4,{id:"micropip",children:"micropip"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"string[]"})," (optional) - Packages imported using micropip"]}),"\n",(0,d.jsx)(n.h3,{id:"consolestate-1",children:"ConsoleState"}),"\n",(0,d.jsx)(n.p,{children:"Enum representing console state."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"'complete' | 'incomplete' | 'syntax-error'"})})]})}function a(e={}){const{wrapper:n}={...(0,s.useMDXComponents)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.r(n),i.d(n,{MDXProvider:()=>t,useMDXComponents:()=>o});var d=i(6540);const s={},r=d.createContext(s);function o(e){const n=d.useContext(r);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);