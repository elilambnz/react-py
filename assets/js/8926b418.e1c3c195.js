"use strict";(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[663],{6862:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var n=s(6540),l=s(7121),i=s(5293),a=s(5636),r=s(8478),o=s(4848);const d={enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,highlightActiveLine:!1,showPrintMargin:!1},c=e=>{e.renderer.setScrollMargin(10,10,0,0),e.moveCursorTo(0,0)};function m(e){let{theme:t,input:n,onChange:l}=e;return(0,o.jsx)(r.default,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>{const e=s(470).default;return s(975),s(9073),s(7031),s(47),(0,o.jsx)(e,{value:n,mode:"python",name:"CodeBlock",fontSize:"0.9rem",className:"flex-1 overflow-clip",theme:"dark"===t?"twilight":"textmate",onChange:l,width:"100%",height:"100%",onLoad:c,editorProps:{$blockScrolling:!0},setOptions:d,wrapEnabled:!0})}})}var u=s(4606),x=s(53);const h=">>> ",p="... ";function f(e){let{isLoading:t,output:s,setOutput:l,run:i,isAwaitingInput:a,sendInput:r,consoleState:d,prompt:c}=e;const[m,f]=(0,n.useState)(""),[g,b]=(0,n.useState)([]),[v,y]=(0,n.useState)(0),w=(0,n.useRef)(null);function j(){return a?c||h:d===u.ConsoleState.incomplete?p:h}return(0,n.useEffect)((()=>{t&&w.current?.blur()}),[t]),(0,n.useEffect)((()=>{a&&(f(""),l((e=>e.slice(0,-1))))}),[a]),(0,o.jsxs)("pre",{className:"m-0 h-full overflow-y-auto p-1 text-left text-base dark:text-white",children:[s.map(((e,t)=>(0,o.jsx)("code",{className:e.className,children:e.text},t))),(0,o.jsxs)("div",{className:"group relative flex items-center",children:[(0,o.jsx)("code",{className:"text-zinc-500",children:j()}),(0,o.jsx)("span",{className:"text-zinc-500 group-focus-within:hidden",children:"|"}),(0,o.jsx)("textarea",{ref:w,className:(0,x.default)("w-full resize-none rounded-md border-none bg-transparent py-2 pl-1 pr-2 !outline-none !ring-0",t&&"pointer-events-none"),style:{height:m?1.5*m.split("\n").length+1+"rem":"2.5rem",fontFamily:"unset"},value:m,onChange:e=>{const t=e.target.value;b((e=>[t,...e.slice(1)])),f(t)},onKeyDown:e=>{const t=e.target.selectionStart,s=e.target.selectionEnd;switch(e.key){case"Enter":e.preventDefault(),!e.shiftKey&&async function(){m&&(y(0),b((e=>[m,...e])),a?(l((e=>[...e,{text:j()+" "+m}])),r(m)):(l((e=>[...e,{text:j()+m+"\n"}])),await i(m)),f(""),w.current?.focus())}();break;case"ArrowUp":0===t&&0===s&&(f(g[v]),y((e=>Math.min(g.length-1,e+1))));break;case"ArrowDown":m&&t===m.length&&s===m.length&&(f(g[v]),y((e=>Math.max(0,e-1))))}},autoCapitalize:"off",spellCheck:"false"})]})]})}var g=s(1071),b=s(4267);const v=function(e){let{show:t,onClose:s,children:l}=e;return(0,o.jsx)(g.Transition.Root,{show:t,as:n.Fragment,children:(0,o.jsxs)(b.Dialog,{as:"div",className:"relative z-10",onClose:s,children:[(0,o.jsx)(g.Transition.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"fixed inset-0 bg-zinc-500 bg-opacity-75 transition-opacity"})}),(0,o.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,o.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0",children:(0,o.jsx)(g.Transition.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,o.jsx)(b.Dialog.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white shadow-xl transition-all dark:bg-neutral-800 sm:my-8",children:l})})})})]})})};var y=s(9726),w=s(7932),j=s(3441),N=s(830),k=s(7886);const C='# Edit the code below and press the "Run" button above to see the output.\nprint("Hello World")';const z=function(e){let{theme:t}=e;const s=localStorage.getItem("playground-input"),l=localStorage.getItem("playground-packages"),[i,r]=(0,n.useState)(s||C),[d,c]=(0,n.useState)([]),[u,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[b,z]=(0,n.useState)(l?JSON.parse(l):[]),[S,E]=(0,n.useState)(!1),L=(0,n.useRef)(null),A=e=>{e.preventDefault(),E(!0)},T=e=>{e.preventDefault(),E(!1)},P=e=>{e.preventDefault(),E(!1);const t=e.dataTransfer?.files[0];if(t&&["text/x-python","text/x-python-script"].includes(t.type)){const e=new FileReader;e.onload=e=>{const t=e.target?.result;"string"==typeof t&&r(t)},e.readAsText(t)}else alert("Invalid file type. Please upload a Python file.")};(0,n.useEffect)((()=>{const e=L.current;return e&&(e.addEventListener("dragover",A),e.addEventListener("dragleave",T),e.addEventListener("drop",P)),()=>{e&&(e.removeEventListener("dragover",A),e.removeEventListener("dragleave",T),e.removeEventListener("drop",P))}}),[L]);const{runPython:F,stdout:I,stderr:D,consoleState:R,isLoading:M,isRunning:_,interruptExecution:O,isAwaitingInput:B,sendInput:H,prompt:K}=(0,a.usePythonConsole)({packages:{micropip:b}});function U(){c([])}return(0,n.useEffect)((()=>{i&&localStorage.setItem("playground-input",i)}),[i]),(0,n.useEffect)((()=>{I&&c((e=>[...e,{text:I}]))}),[I]),(0,n.useEffect)((()=>{D&&c((e=>[...e,{text:D+"\n",className:"text-red-500"}]))}),[D]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{ref:L,className:"flex h-full flex-1 flex-col divide-y dark:divide-zinc-500 dark:bg-[#141414] md:flex-row md:divide-x md:divide-y-0",children:[(0,o.jsxs)("div",{className:"flex min-h-[45vh] flex-col md:w-1/2",children:[(0,o.jsxs)("div",{className:"flex flex-wrap justify-between gap-x-2 gap-y-2 border-b p-2 dark:border-zinc-500",children:[(0,o.jsx)("div",{className:"flex gap-x-2",children:(0,o.jsxs)("button",{className:"inline-flex items-center gap-x-1.5 rounded-md border border-transparent bg-white px-2.5 py-1.5 text-sm font-semibold text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 hover:bg-zinc-100",onClick:()=>h(!0),children:[(0,o.jsx)(N.default,{className:"-ml-0.5 h-4 w-4","aria-hidden":"true"}),"Packages"," ",b.length>0&&`(${b.length})`]})}),(0,o.jsxs)("div",{className:"flex gap-x-2",children:[(0,o.jsx)("button",{className:"rounded-md border border-transparent bg-red-50 px-2.5 py-1.5 text-sm font-semibold text-red-700 shadow-sm ring-1 ring-inset ring-zinc-300 ring-red-600/20 hover:bg-red-100",onClick:()=>{U(),r(C)},children:"Reset"}),_?(0,o.jsxs)("button",{className:"inline-flex items-center gap-x-1.5 rounded-md border border-transparent bg-lime-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600",onClick:function(){O()},children:[(0,o.jsx)(w.default,{className:"h-4 w-4"}),"Stop"]}):(0,o.jsxs)("button",{className:(0,x.default)("inline-flex items-center gap-x-1.5 rounded-md border border-transparent bg-lime-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600",M&&"cursor-not-allowed opacity-50"),onClick:async function(){U(),await F(i)},disabled:M,children:[(0,o.jsx)(y.default,{className:"-ml-0.5 h-4 w-4","aria-hidden":"true"}),"Run"]})]})]}),(0,o.jsx)(m,{theme:t,input:i,onChange:e=>r(e)})]}),(0,o.jsxs)("div",{className:"flex min-h-[45vh] flex-col md:w-1/2",children:[(0,o.jsxs)("div",{className:"flex justify-between border-b p-2 dark:border-zinc-500",children:[(0,o.jsxs)("div",{children:[M&&(0,o.jsxs)("button",{type:"button",className:"inline-flex cursor-not-allowed items-center rounded-md border border-transparent bg-lime-50 px-2.5 py-1 text-sm font-semibold leading-6 text-lime-700 shadow-sm ring-1 ring-inset ring-lime-600/20",disabled:!0,children:[(0,o.jsxs)("svg",{className:"-ml-0.5 mr-3 h-4 w-4 animate-spin text-lime-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting up environment..."]}),B&&(0,o.jsxs)("button",{type:"button",className:"inline-flex cursor-not-allowed items-center rounded-md border border-transparent bg-blue-50 px-2.5 py-1 text-sm font-semibold leading-6 text-blue-700 shadow-sm ring-1 ring-inset ring-blue-600/20",disabled:!0,children:[(0,o.jsxs)("svg",{className:"-ml-0.5 mr-3 h-4 w-4 animate-spin text-blue-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Awaiting input..."]})]}),(0,o.jsx)("button",{className:"rounded-md border border-transparent bg-white px-2.5 py-1.5 text-sm font-semibold text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 hover:bg-zinc-100",onClick:U,children:"Clear"})]}),(0,o.jsx)(f,{isLoading:M,output:d,setOutput:c,run:F,isAwaitingInput:B,sendInput:H,consoleState:R,prompt:K})]}),S&&(0,o.jsx)("div",{className:"pointer-events-none absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-10 backdrop-blur-sm backdrop-filter",children:(0,o.jsx)("div",{className:"rounded-md bg-lime-50 p-4",children:(0,o.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,o.jsx)(k.default,{className:"h-5 w-5 text-lime-400","aria-hidden":"true"}),(0,o.jsx)("span",{className:"text-sm font-medium text-lime-800",children:"Drop file to upload"})]})})})]}),(0,o.jsxs)(v,{show:u,onClose:()=>h(!1),children:[(0,o.jsxs)("button",{className:"absolute right-0 top-0 border border-transparent bg-transparent p-4",onClick:()=>h(!1),children:[(0,o.jsx)("span",{className:"sr-only",children:"Close"}),(0,o.jsx)(j.default,{className:"h-6 w-6 text-neutral-500 dark:text-neutral-400"})]}),(0,o.jsx)("div",{className:"w-full max-w-2xl bg-white py-6 sm:py-12 md:w-screen",children:(0,o.jsxs)("div",{className:"mx-auto px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"pb-12",children:[(0,o.jsx)("h2",{className:"text-base font-semibold leading-7 text-zinc-900",children:"Python packages"}),(0,o.jsxs)("p",{className:"prose mt-1 text-sm leading-6 text-zinc-600",children:["The Python standard library is available without needing to install any packages,"," ",(0,o.jsx)("a",{className:"text-black underline",href:"https://docs.python.org/3/library",target:"_blank",rel:"noopener noreferrer",children:"view the full list here"}),". There is also a list of already installed packages,"," ",(0,o.jsx)("a",{className:"text-black underline",href:"https://pyodide.org/en/stable/usage/packages-in-pyodide.html",target:"_blank",rel:"noopener noreferrer",children:"view the full list here"}),"."]}),(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("label",{htmlFor:"package",className:"block text-sm font-medium leading-6 text-zinc-900",children:"Package name or URL"}),(0,o.jsxs)("div",{className:"mt-2 inline-flex items-center gap-x-2",children:[(0,o.jsx)("input",{type:"text",name:"package",id:"package",className:"block w-full rounded-md border-0 py-1.5 text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 placeholder:text-zinc-400 focus:ring-2 focus:ring-inset focus:ring-lime-600 sm:text-sm sm:leading-6",placeholder:"i.e. python-cowsay",onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&z((e=>e.includes(p)?e:[...e,p]))}}),(0,o.jsx)("button",{type:"button",className:(0,x.default)("rounded-md border border-transparent bg-lime-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600",!p&&"cursor-not-allowed opacity-50"),onClick:()=>z((e=>e.includes(p)?e:[...e,p])),disabled:!p,children:"Add"})]})]}),(0,o.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-zinc-100",children:b.length>0?b.map((e=>(0,o.jsx)("li",{className:"flex py-4",children:(0,o.jsxs)("div",{className:"flex-1 md:flex md:justify-between",children:[(0,o.jsx)("div",{className:"text-sm text-zinc-900",children:(0,o.jsx)("p",{children:e})}),(0,o.jsx)("div",{className:"mt-2 flex items-center text-sm text-zinc-500 md:mt-0",children:(0,o.jsx)("button",{type:"button",className:"rounded-md border border-transparent bg-white p-1.5 text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",onClick:()=>z((t=>t.filter((t=>t!==e)))),children:"Remove"})})]})},e))):(0,o.jsx)("li",{className:"flex py-4",children:(0,o.jsx)("div",{className:"flex-1 md:flex md:justify-between",children:(0,o.jsx)("div",{className:"text-sm text-zinc-900",children:(0,o.jsx)("p",{children:"No packages added"})})})})})]}),(0,o.jsx)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:(0,o.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-lime-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 sm:ml-3 sm:w-auto",onClick:async()=>{localStorage.setItem("playground-packages",JSON.stringify(b)),h(!1),window.location.reload()},children:"Update packages"})})]})})]})]})};function S(){const{colorMode:e}=(0,i.useColorMode)();return(0,o.jsx)(r.default,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>(0,o.jsx)(z,{theme:e})})}function E(){return(0,o.jsx)(l.default,{title:"Playground",description:"Try out react-py in your browser",children:(0,o.jsx)("main",{className:"flex h-full min-h-[calc(100vh-5rem)] min-w-[300px] flex-col",children:(0,o.jsx)(S,{})})})}}}]);